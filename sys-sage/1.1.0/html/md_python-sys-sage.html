<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>sys-sage: sys-sage Python API documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">sys-sage
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">sys-sage Python API documentation</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md37"></a> The <em>sys-sage</em> library provides bindings for the Python programming language through the <em>sys-sage</em> module. This documenation offers a brief introduction.</p>
<h1><a class="anchor" id="autotoc_md38"></a>
Installation</h1>
<p>First make sure that <code>python</code> (&gt;= 3.10) and <code>pybind11</code> are already installed on your system. You can then pass the <code>-DPY_SYS_SAGE=ON</code> flag to CMake when compiling the library to also build the module. The following command can be executed at the root of the repo</p>
<div class="fragment"><div class="line">cmake -B build -DCMAKE_BUILD_TYPE=Release -DPY_SYS_SAGE=ON .</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md39"></a>
Module Import</h1>
<p>After installation the module can now be imported:</p>
<div class="fragment"><div class="line"><span class="keyword">import</span> sys_sage</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md40"></a>
Object initialistaion</h1>
<p>To create Component and Relation objects, you can utilize the provided initialization functions. For instance, a Component object can be instantiated as follows:</p>
<div class="fragment"><div class="line">c = <a class="code hl_class" href="classsys__sage_1_1_component.html">sys_sage.Component</a>(parent, 0, <span class="stringliteral">&quot;Generic Component&quot;</span>)</div>
<div class="ttc" id="aclasssys__sage_1_1_component_html"><div class="ttname"><a href="classsys__sage_1_1_component.html">sys_sage::Component</a></div><div class="ttdoc">Generic class for all hardware and logical components in sys-sage.</div><div class="ttdef"><b>Definition</b> Component.hpp:37</div></div>
</div><!-- fragment --><p> The <em>sys-sage</em> library exposes all known constructors for <code>Component</code> and its subclasses as Python initialization functions, complete with their default values. In the example above, if the component type is not explicitly provided, it will automatically be assigned <code>None</code> during initialization.</p>
<p>Throughout this documentation, <code>c</code> will consistently refer to a Component object.</p>
<h1><a class="anchor" id="autotoc_md41"></a>
Methods</h1>
<p>Calling class methods in Python is very similar to the C++ version:</p>
<div class="fragment"><div class="line">c.InsertChild(child)</div>
</div><!-- fragment --><p> However, certain attributes, such as id and name, are not accessible via standard getters and setters. The specific methods for reading and writing these attributes are detailed in the "Attributes" section of this documentation.</p>
<h1><a class="anchor" id="autotoc_md42"></a>
Module functions</h1>
<p>All the default parsers of the <em>sys-sage</em> library are also included in the Python module:</p>
<div class="fragment"><div class="line"><a class="code hl_function" href="caps-numa-benchmark_8hpp.html#af6f071783d703badd5961ab7ad0b848b">sys_sage.parseCapsNumaBenchmark</a>(root,<span class="stringliteral">&quot;benchmark.csv&quot;</span>,<span class="stringliteral">&quot;;&quot;</span>)</div>
<div class="ttc" id="acaps-numa-benchmark_8hpp_html_af6f071783d703badd5961ab7ad0b848b"><div class="ttname"><a href="caps-numa-benchmark_8hpp.html#af6f071783d703badd5961ab7ad0b848b">sys_sage::parseCapsNumaBenchmark</a></div><div class="ttdeci">int parseCapsNumaBenchmark(Component *rootComponent, std::string benchmarkPath, std::string delim=&quot;;&quot;)</div><div class="ttdef"><b>Definition</b> caps-numa-benchmark.cpp:9</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md43"></a>
Attributes</h1>
<h2><a class="anchor" id="autotoc_md44"></a>
Module Attributes</h2>
<p>The Python module provides a one-to-one correspondance to the known <em>sys-sage</em> constants.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">C++   </th><th class="markdownTableHeadNone">Python    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ComponentType::None   </td><td class="markdownTableBodyNone">COMPONENT_NONE    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ComponentType::Thread   </td><td class="markdownTableBodyNone">COMPONENT_THREAD    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ComponentType::Core   </td><td class="markdownTableBodyNone">COMPONENT_CORE    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ComponentType::Cache   </td><td class="markdownTableBodyNone">COMPONENT_CACHE    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ComponentType::Subdivision   </td><td class="markdownTableBodyNone">COMPONENT_SUBDIVISION    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ComponentType::Numa   </td><td class="markdownTableBodyNone">COMPONENT_NUMA    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ComponentType::Chip   </td><td class="markdownTableBodyNone">COMPONENT_CHIP    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ComponentType::Memory   </td><td class="markdownTableBodyNone">COMPONENT_MEMORY    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ComponentType::Storage   </td><td class="markdownTableBodyNone">COMPONENT_STORAGE    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ComponentType::Node   </td><td class="markdownTableBodyNone">COMPONENT_NODE    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ComponentType::QuantumBackend   </td><td class="markdownTableBodyNone">COMPONENT_QUANTUMBACKEND    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ComponentType::AtomSite   </td><td class="markdownTableBodyNone">COMPONENT_ATOMSITE    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ComponentType::Qubit   </td><td class="markdownTableBodyNone">COMPONENT_QUBIT    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ComponentType::Topology   </td><td class="markdownTableBodyNone">COMPONENT_TOPOLOGY    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">SubdivisionType::None   </td><td class="markdownTableBodyNone">SUBDIVISION_TYPE_NONE    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">SubdivisionType::GpuSM   </td><td class="markdownTableBodyNone">SUBDIVISION_TYPE_GPU_SM    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ChipType::None   </td><td class="markdownTableBodyNone">CHIP_TYPE_NONE    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ChipType::Cpu   </td><td class="markdownTableBodyNone">CHIP_TYPE_CPU    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ChipType::CpuSocket   </td><td class="markdownTableBodyNone">CHIP_TYPE_CPU_SOCKET    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ChipType::Gpu   </td><td class="markdownTableBodyNone">CHIP_TYPE_GPU    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">RelationType::Any   </td><td class="markdownTableBodyNone">RELATION_TYPE_ANY    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">RelationType::Relation   </td><td class="markdownTableBodyNone">RELATION_TYPE_RELATION    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">RelationType::DataPath   </td><td class="markdownTableBodyNone">RELATION_TYPE_DATAPATH    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">RelationType::QuantumGate   </td><td class="markdownTableBodyNone">RELATION_TYPE_QUANTUMGATE    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">RelationType::CouplingMap   </td><td class="markdownTableBodyNone">RELATION_TYPE_COUPLINGMAP    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">DataPathType::Any   </td><td class="markdownTableBodyNone">DATAPATH_TYPE_ANY    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">DataPathType::None   </td><td class="markdownTableBodyNone">DATAPATH_TYPE_NONE    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">DataPathType::Logical   </td><td class="markdownTableBodyNone">DATAPATH_TYPE_LOGICAL    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">DataPathType::Physical   </td><td class="markdownTableBodyNone">DATAPATH_TYPE_PHYSICAL    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">DataPathType::Datatransfer   </td><td class="markdownTableBodyNone">DATAPATH_TYPE_DATATRANSFER    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">DataPathType::L3CAT   </td><td class="markdownTableBodyNone">DATAPATH_TYPE_L3CAT    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">DataPathType::MIG   </td><td class="markdownTableBodyNone">DATAPATH_TYPE_MIG    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">DataPathType::C2C   </td><td class="markdownTableBodyNone">DATAPATH_TYPE_C2C    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">DataPathDirection::Any   </td><td class="markdownTableBodyNone">DATAPATH_DIRECTION_ANY    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">DataPathDirection::Outgoing   </td><td class="markdownTableBodyNone">DATAPATH_DIRECTION_OUTGOING    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">DataPathDirection::Incoming   </td><td class="markdownTableBodyNone">DATAPATH_DIRECTION_INCOMING    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">DataPathOrientation::Oriented   </td><td class="markdownTableBodyNone">DATAPATH_ORIENTATION_ORIENTED    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">DataPathOrientation::Bidirectional   </td><td class="markdownTableBodyNone">DATAPATH_ORIENTATION_BIDIRECTIONAL    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">QuantumGateType::Unknown   </td><td class="markdownTableBodyNone">QUANTUMGATE_TYPE_UNKNOWN    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">QuantumGateType::Id   </td><td class="markdownTableBodyNone">QUANTUMGATE_TYPE_ID    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">QuantumGateType::X   </td><td class="markdownTableBodyNone">QUANTUMGATE_TYPE_X    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">QuantumGateType::Rz   </td><td class="markdownTableBodyNone">QUANTUMGATE_TYPE_RZ    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">QuantumGateType::Cnot   </td><td class="markdownTableBodyNone">QUANTUMGATE_TYPE_CNOT    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">QuantumGateType::Sx   </td><td class="markdownTableBodyNone">QUANTUMGATE_TYPE_SX    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">QuantumGateType::Toffoli   </td><td class="markdownTableBodyNone">QUANTUMGATE_TYPE_TOFFOLI   </td></tr>
</table>
<p>An example would be:</p>
<div class="fragment"><div class="line">c.CountAllSubcomponentsByType(sys_sage.COMPONENT_NONE)</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md45"></a>
Properties</h2>
<p>As previously mentioned, some attributes aren't accessed using traditional getters or setters. Instead, <code>sys-sage</code> offers a more pythonic approach to access them:</p>
<div class="fragment"><div class="line">name = c.name</div>
<div class="line">c.name = <span class="stringliteral">&quot;name&quot;</span></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md46"></a>
Dynamic Attributes</h2>
<p>Similar to the core <em>sys-sage</em> library, users can define their own custom attributes. The usage resembles that of dictionaries.</p>
<div class="fragment"><div class="line">c[<span class="stringliteral">&quot;foo&quot;</span>] = <span class="stringliteral">&quot;test&quot;</span></div>
<div class="line">c[<span class="stringliteral">&quot;foo&quot;</span>]            <span class="comment"># returns &quot;test&quot;</span></div>
<div class="line">c[<span class="stringliteral">&quot;bar&quot;</span>] = 1        <span class="comment"># values can be arbitrary</span></div>
<div class="line">c[0]                <span class="comment"># returns 1, since key-value pairs are ordered in lexicographical order of the keys</span></div>
</div><!-- fragment --><p> The same holds for relations.</p>
<h1><a class="anchor" id="autotoc_md47"></a>
XML I/O</h1>
<p>XML import and export is enabled, however there are some difference to the original library functions.</p>
<h2><a class="anchor" id="autotoc_md48"></a>
XML Export</h2>
<p>When exporting data in <em>sys-sage</em>, users can define custom functions to parse component attributes. Two distinct functions can be specified: one for simple attributes and another for complex attributes.</p>
<p>For simple attributes, the custom function must return either a string or None. The processing of the key-value pair is entirely at the user's discretion. Here's an example:</p>
<div class="fragment"><div class="line"><span class="keyword">def </span>search_custom_simple(key: str, value) -&gt; str:</div>
<div class="line">    <span class="keywordflow">if</span> <span class="stringliteral">&quot;example&quot;</span> <span class="keywordflow">in</span> key:</div>
<div class="line">        <span class="keywordflow">return</span> str(value)</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
</div><!-- fragment --><p> For complex attributes, the function is expected to return a string representation of an XML node. The encapsulating root element (e.g., &lt;root&gt;&lt;/root&gt;) should be omitted. For instance:</p>
<div class="fragment"><div class="line"><span class="keyword">def </span>search_custom_complex(key: str, value) -&gt; str:</div>
<div class="line">    <span class="comment"># This function returns an XML fragment representing the complex attribute</span></div>
<div class="line">    <span class="keywordflow">return</span> f<span class="stringliteral">&quot;&lt;Attribute key=\&quot;{key}\&quot; value=\&quot;{value}\&quot;/&gt;&quot;</span></div>
</div><!-- fragment --><p> After defining your custom user functions, the export process can be initiated by calling the sys_sage.export function, passing the root component, the desired export path, and your custom functions:</p>
<div class="fragment"><div class="line">sys_sage.export(root, path, search_custom_simple, search_custom_complex)</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md49"></a>
XML Import</h2>
<p>The XML import functionality mirrors the export function, but with key differences that are best illustrated through examples.</p>
<p>For simple attributes, all custom attributes from the XML file are passed to the user-provided custom parsing function as XML nodes (strings). Therefore, the custom function must employ string operations to extract the desired value:</p>
<div class="fragment"><div class="line"><span class="keyword">def </span>import_search_simple(x):</div>
<div class="line">    <span class="comment"># x will be an XML string like &#39;&lt;Attribute key=&quot;benchmark&quot; value=&quot;some_value&quot;/&gt;&#39;</span></div>
<div class="line">    <span class="keywordflow">if</span> <span class="stringliteral">&quot;benchmark&quot;</span> <span class="keywordflow">in</span> x:</div>
<div class="line">        y = x.split(<span class="stringliteral">&quot;value=\&quot;&quot;</span>)[-1]</div>
<div class="line">        <span class="keywordflow">return</span> y.rstrip(<span class="stringliteral">&quot;\&quot;/&gt;&quot;</span>)</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
</div><!-- fragment --><p>Similarly, for complex attributes, the XML node as a string is forwarded. However, unlike the simple attribute function, the custom function for complex attributes also gains access to the respective Component object (<code>c</code>). This allows for more profound modifications to the component's attributes. This function is expected to return only a success status (e.g., 1 for success, 0 for failure).</p>
<div class="fragment"><div class="line"><span class="keyword">def </span>import_search_complex(x, c):</div>
<div class="line">    <span class="comment"># x will be an XML string like &#39;&lt;Attribute key=&quot;complex&quot; value=&quot;123&quot;/&gt;&#39;</span></div>
<div class="line">    <span class="comment"># c is the Component object to which this attribute belongs</span></div>
<div class="line">    <span class="keywordflow">if</span> <span class="stringliteral">&quot;complex&quot;</span> <span class="keywordflow">in</span> x:</div>
<div class="line">        y = x.split(<span class="stringliteral">&quot;value=\&quot;&quot;</span>)[-1]</div>
<div class="line">        val = y.rstrip(<span class="stringliteral">&quot;\&quot;/&gt;&quot;</span>)</div>
<div class="line">        c[<span class="stringliteral">&quot;complex&quot;</span>] = int(val)  <span class="comment"># Modify the component&#39;s attribute directly</span></div>
<div class="line">        <span class="keywordflow">return</span> 1  <span class="comment"># Indicate success</span></div>
<div class="line">    <span class="keywordflow">return</span> 0  <span class="comment"># Indicate failure</span></div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
