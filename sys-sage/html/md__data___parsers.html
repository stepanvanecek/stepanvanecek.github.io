<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>sys-sage: sys-sage Data Parsers Documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">sys-sage
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">sys-sage Data Parsers Documentation</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md14"></a> </p>
<h1><a class="anchor" id="autotoc_md15"></a>
Available Parsers</h1>
<ul>
<li><a class="el" href="#hwloc">hwloc</a> (CPU topology)</li>
<li><a class="el" href="#mt4g">mt4g</a> (GPU topology)</li>
</ul>
<p><a class="anchor" id="hwloc"></a> </p>
<h2><a class="anchor" id="autotoc_md16"></a>
hwloc (CPU topology)</h2>
<p>//TODO</p>
<p><a class="anchor" id="mt4g"></a> </p>
<h2><a class="anchor" id="autotoc_md17"></a>
mt4g (GPU topology)</h2>
<p>Parser of mt4g ( <a href="https://github.com/caps-tum/mt4g">https://github.com/caps-tum/mt4g</a> ) project. This project captures the memory topology of Nvidia GPUs, specifically all GPUs since the Kepler microarchitecture. It is a set of microbenchmarks, which uncover the hidden structure and attributes of modern GPUs, and present them to the user for further processing.</p>
<h3><a class="anchor" id="autotoc_md18"></a>
General</h3>
<p>With mt4g, one can generate a .csv output file, which contains the GPU topology information and attributes regarding the GPU. This .csv is a sys-sage Data Source, which is parsed by the mt4g Data Parser.</p>
<h3><a class="anchor" id="autotoc_md19"></a>
Parsing Logic</h3>
<p>The mt4g Parser creates a new GPU topology representation, starting at the GPU level (as <a class="el" href="class_chip.html">Chip</a> component of type SYS_SAGE_CHIP_TYPE_GPU).</p>
<p>The topology is created with the following hierarchy:</p><ul>
<li><code>[1 ]</code> <b>GPU</b> (component <a class="el" href="class_chip.html">Chip</a>, chip type SYS_SAGE_CHIP_TYPE_GPU)<ul>
<li><code>[1..n]</code> <b>Global memory</b>(component <a class="el" href="class_memory.html">Memory</a> ; provided MAIN_MEMORY is Shared_On GPU-level; otherwise error)<ul>
<li><code>[1..n]</code> <b>L2 cache</b> (component <a class="el" href="class_cache.html">Cache</a>; provided L2_DATA_CACHE is Shared_On GPU-level)<ul>
<li><code>[1..n]</code> <em>other caches &ndash; L1 cache, Texture cache, Read-only cache</em> (provided they are Shared_On GPU-level)<ul>
<li><code>[1..n]</code> <b>SM</b> (component <a class="el" href="class_subdivision.html">Subdivision</a>, subdivisionType SYS_SAGE_SUBDIVISION_TYPE_GPU_SM)<ul>
<li><code>[1..n]</code> <em>L2 cache (provided L2_DATA_CACHE is Shared_On SM-level)</em><ul>
<li><code>[1..n]</code> <b>other caches &ndash; L1 cache, Texture cache, Read-only cache</b> (provided they are Shared_On SM-level) - Either as one object, if they are physically shared, or as separate objects if not.<ul>
<li><code>[1..n]</code> <b>GPU <a class="el" href="class_core.html">Core</a></b> (component HW_Thread) &ndash; child of L1 cache</li>
</ul>
</li>
<li><code>[1..n]</code> <b>L1.5 Constant cache</b> (component <a class="el" href="class_cache.html">Cache</a>)<ul>
<li><code>[1 ]</code> <b>L1 Constant cache</b> (component <a class="el" href="class_cache.html">Cache</a>)</li>
</ul>
</li>
<li><code>[1 ]</code> <b>Shared memory</b> (component <a class="el" href="class_memory.html">Memory</a>; provided Shared_On SM-level; otherwise error)</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>The <b>GPU (<a class="el" href="class_chip.html">Chip</a> component)</b> contains the following information (if found in the CSV, line GPU_INFORMATION, line COMPUTE_RESOURCE_INFORMATION, line ADDITIONAL_INFORMATION ):<ul>
<li>vendor</li>
<li>model</li>
<li>name = "GPU" (if new <a class="el" href="class_chip.html">Chip</a> is being created)</li>
<li><code>attrib</code> (key; value): "CUDA_compute_capability"; string* to the value</li>
<li><code>attrib</code> (key; value): "Number_of_streaming_multiprocessors"; int*</li>
<li><code>attrib</code> (key; value): "Number_of_cores_in_GPU"; int*</li>
<li><code>attrib</code> (key; value): "Number_of_cores_per_SM"; int*</li>
<li><code>attrib</code> (key; value): "GPU_Clock_Rate"; double* (clock rate in Hz)</li>
</ul>
</li>
</ul>
<p>Each GPU has one Global memory child.</p>
<ul>
<li>The <b>Global memory (<a class="el" href="class_memory.html">Memory</a> component)</b> contains the following information (if found in line ADDITIONAL_INFORMATION, line MAIN_MEMORY)<ul>
<li>size</li>
<li>name = "GPU main memory"</li>
<li><code>attrib</code> (key; value): "Clock_Frequency", double* (clock rate in Hz, from field Memory_Clock_Frequency)</li>
<li><code>attrib</code> (key; value): "Bus_Width", int* (in bit, from field Memory_Bus_Width)</li>
</ul>
</li>
</ul>
<p>The Global memory has usually an L2 cache child/children. Alternatively, SMs can be children of Global memory, if the L2 cache is Shared_On SM_level.</p>
<ul>
<li>The <b>L2 cache (<a class="el" href="class_cache.html">Cache</a> component)</b>. There may be multiple L2 cache segments, if these are detected in mt4g benchmarks (Caches_Per_GPU). It contains the following information (if found in line L2_DATA_CACHE)<ul>
<li>cache_type = "L2"</li>
<li>id = 0</li>
<li>cache_size</li>
<li>cache_line_size</li>
</ul>
</li>
</ul>
<p>The L2 would usually have the SMs as children (Shared_On = GPU-level) but can also be the other</p>
<ul>
<li><b>SM &ndash; Streaming Multiprocessor (<a class="el" href="class_subdivision.html">Subdivision</a> component)</b>. <a class="el" href="class_subdivision.html">Subdivision</a> of type SYS_SAGE_SUBDIVISION_TYPE_GPU_SM. One SM gets created for each SM the GPU has (as in COMPUTE_RESOURCE_INFORMATION - Number_of_streaming_multiprocessors). It contains the following information<ul>
<li>Name = "SM (Streaming Multiprocessor)"</li>
<li>id - goes from 0 to n-1</li>
<li>subdivision_type = SYS_SAGE_SUBDIVISION_TYPE_GPU_SM</li>
</ul>
</li>
</ul>
<p>SMs usually have multiple types of caches and Shared memory as children.</p>
<p>//TODO what if caches are Shared_On GPU-level?</p>
<ul>
<li><b>L1 cache (<a class="el" href="class_cache.html">Cache</a> component)</b>. There are as many L1 caches created as specified in Caches_Per_SM (line L1_DATA_CACHE). The L1, Texture, ReadOnly , and Constant L1 caches may be shared on one physical chip &ndash; if this is the case, they will also be represented as one <a class="el" href="class_cache.html">Cache</a> component in sys-sage. If L1 cache is shared with others, the whole group takes over the values from L1_DATA_CACHE. If no L1 but a Texture cache is present, the group takes over values from TEXTURE_CACHE line. If neither L1 nor Texture is present but ReadOnly is, the group takes over the information from the READ-ONLY_CACHE line. The sharing is distinguisned by the "cache_type" attribute. The possible options are "L1", "L1+Texture", "L1+ReadOnly", "L1+Constant_L1", "L1+Texture+ReadOnly", "L1+Texture+Constant_L1", "L1+ReadOnly+Constant_L1", "L1+Texture+ReadOnly+Constant_L1", "Texture", "Texture+ReadOnly", "Texture+Constant_L1", "Texture+ReadOnly+Constant_L1", "ReadOnly", "ReadOnly+Constant_L1", "Constant_L1". It contains the following information (if found in line L1_DATA_CACHE)<ul>
<li>cache_type</li>
<li>id = 0</li>
<li>Name = "Cache"</li>
<li>cache_size</li>
<li>cache_line_size</li>
</ul>
</li>
</ul>
<p>The L1 cache (shared with others or not) has the GPU cores (of the whole SM or a respective portion based on Caches_Per_SM )as children.</p>
<ul>
<li><b>Texture cache (<a class="el" href="class_cache.html">Cache</a> component)</b>. There are as many Texture caches created as specified in Caches_Per_SM (line TEXTURE_CACHE). The L1, Texture, ReadOnly , and Constant L1 caches may be shared on one physical chip &ndash; if this is the case, they will also be represented as one <a class="el" href="class_cache.html">Cache</a> component in sys-sage. If L1 cache is shared with others, the whole group takes over the values from L1_DATA_CACHE. If no L1 but a Texture cache is present, the group takes over values from TEXTURE_CACHE line. If neither L1 nor Texture is present but ReadOnly is, the group takes over the information from the READ-ONLY_CACHE line. The sharing is distinguisned by the "cache_type" attribute. The possible options are "L1", "L1+Texture", "L1+ReadOnly", "L1+Constant_L1", "L1+Texture+ReadOnly", "L1+Texture+Constant_L1", "L1+ReadOnly+Constant_L1", "L1+Texture+ReadOnly+Constant_L1", "Texture", "Texture+ReadOnly", "Texture+Constant_L1", "Texture+ReadOnly+Constant_L1", "ReadOnly", "ReadOnly+Constant_L1", "Constant_L1". It contains the following information (if found in line TEXTURE_CACHE)<ul>
<li>cache_type</li>
<li>id = 0</li>
<li>Name = "Cache"</li>
<li>cache_size</li>
<li>cache_line_size</li>
</ul>
</li>
<li><b>Read-Only cache (<a class="el" href="class_cache.html">Cache</a> component)</b>. There are as many Read-Only caches created as specified in Caches_Per_SM (line READ-ONLY_CACHE). The L1, Texture, ReadOnly , and Constant L1 caches may be shared on one physical chip &ndash; if this is the case, they will also be represented as one <a class="el" href="class_cache.html">Cache</a> component in sys-sage. If L1 cache is shared with others, the whole group takes over the values from L1_DATA_CACHE. If no L1 but a Texture cache is present, the group takes over values from TEXTURE_CACHE line. If neither L1 nor Texture is present but ReadOnly is, the group takes over the information from the READ-ONLY_CACHE line. The sharing is distinguisned by the "cache_type" attribute. The possible options are "L1", "L1+Texture", "L1+ReadOnly", "L1+Constant_L1", "L1+Texture+ReadOnly", "L1+Texture+Constant_L1", "L1+ReadOnly+Constant_L1", "L1+Texture+ReadOnly+Constant_L1", "Texture", "Texture+ReadOnly", "Texture+Constant_L1", "Texture+ReadOnly+Constant_L1", "ReadOnly", "ReadOnly+Constant_L1", "Constant_L1". It contains the following information (if found in line READ-ONLY_CACHE)<ul>
<li>cache_type</li>
<li>id = 0</li>
<li>Name = "Cache"</li>
<li>cache_size</li>
<li>cache_line_size</li>
</ul>
</li>
<li><b>Constant L1.5 cache (<a class="el" href="class_cache.html">Cache</a> component)</b>. The Constant L1.5 cache is created as a child of the SM it belongs to, and is filled with informaiton parsed on line CONST_L1_5_CACHE.<ul>
<li>cache_type = "Constant_L1.5"</li>
<li>id = 0</li>
<li>Name = "Cache"</li>
<li>cache_size</li>
<li>cache_line_size</li>
</ul>
</li>
</ul>
<p>Unless a Constant L1 cache is shared with L1 cache, it is a child of C_1.5 cache.</p>
<ul>
<li><b>Constant L1 cache (<a class="el" href="class_cache.html">Cache</a> component)</b>. There is as many Constant L1 caches created as specified in Caches_Per_SM (line CONSTANT_L1_CACHE). The L1, Texture, ReadOnly , and Constant L1 caches may be shared on one physical chip &ndash; if this is the case, they will also be represented as one <a class="el" href="class_cache.html">Cache</a> component in sys-sage. If L1 cache is shared with others, the whole group takes over the values from L1_DATA_CACHE. If no L1 but a Texture cache is present, the group takes over values from TEXTURE_CACHE line. If neither L1 nor Texture is present but ReadOnly is, the group takes over the information from the READ-ONLY_CACHE line. The sharing is distinguisned by the "cache_type" attribute. The possible options are "L1", "L1+Texture", "L1+ReadOnly", "L1+Constant_L1", "L1+Texture+ReadOnly", "L1+Texture+Constant_L1", "L1+ReadOnly+Constant_L1", "L1+Texture+ReadOnly+Constant_L1", "Texture", "Texture+ReadOnly", "Texture+Constant_L1", "Texture+ReadOnly+Constant_L1", "ReadOnly", "ReadOnly+Constant_L1", "Constant_L1". It contains the following information (if found in line READ-ONLY_CACHE)<ul>
<li>cache_type</li>
<li>id = 0</li>
<li>Name = "Cache"</li>
<li>cache_size</li>
<li>cache_line_size</li>
</ul>
</li>
</ul>
<p>If Constant L1 cache is not shared with others, such as the L1 cache, it will be inserted as a child of Constant L1.5 cahce.</p>
<ul>
<li><b>Shared memory (<a class="el" href="class_memory.html">Memory</a> component)</b> contains the following information (if found in line SHARED_MEMORY)<ul>
<li>size</li>
<li>name = "Shared memory"</li>
</ul>
</li>
</ul>
<p>Shared memory is usually a child of an SM, unless L2 cache is shared on SM level (then it is L2 cache)</p>
<ul>
<li><b><a class="el" href="class_data_path.html">DataPath</a></b><ul>
<li><b>Load Latencies</b> are measured between the cores and several memories/cahces. They are oriented, <a class="el" href="class_data_path.html">DataPath</a> type SYS_SAGE_DATAPATH_TYPE_LOGICAL. It contains the "Load_Latency" value from the particular entry. GPU cycles value is used (bool latency_in_cycles cannot be set up now). The following DataPaths are created:<ul>
<li><b>Global <a class="el" href="class_memory.html">Memory</a> --&gt; each GPU core</b> (class <a class="el" href="class_memory.html">Memory</a> --&gt; <a class="el" href="class_thread.html">Thread</a>)</li>
<li><b>Shared memroy --&gt; all GPU cores from the SM</b> (class <a class="el" href="class_memory.html">Memory</a> --&gt; <a class="el" href="class_thread.html">Thread</a>)</li>
<li><b>L2 cache --&gt; each GPU core</b> (class <a class="el" href="class_cache.html">Cache</a> --&gt; <a class="el" href="class_thread.html">Thread</a>)</li>
<li><b>L1 cache --&gt; all child GPU cores</b> (class <a class="el" href="class_cache.html">Cache</a> --&gt; <a class="el" href="class_thread.html">Thread</a>)</li>
<li><b>Texture cache --&gt; all GPU cores from the SM</b> (class <a class="el" href="class_cache.html">Cache</a> --&gt; <a class="el" href="class_thread.html">Thread</a>) &ndash; if Texture cache is shared with L1, this DP does not get created (//TODO create anyways?)</li>
<li><b>Read-only cache --&gt; all GPU cores from the SM</b> (class <a class="el" href="class_cache.html">Cache</a> --&gt; <a class="el" href="class_thread.html">Thread</a>) &ndash; if Read-only cache is shared with L1 or Texture, this DP does not get created (//TODO create anyways?)</li>
<li><b>Constant L1 cache --&gt; all GPU cores from the SM</b> (class <a class="el" href="class_cache.html">Cache</a> --&gt; <a class="el" href="class_thread.html">Thread</a>) &ndash; if Constant L1 cache is shared with L1, Texture, or Read-only, this DP does not get created (//TODO create anyways?)</li>
<li><b>Constant L1.5 cache --&gt; all GPU cores from the SM</b> (class <a class="el" href="class_cache.html">Cache</a> --&gt; <a class="el" href="class_thread.html">Thread</a>)</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Line "REGISTER_INFORMATION" of the output is not parsed. (//TODO parse as well?) </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
